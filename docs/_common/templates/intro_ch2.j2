AT 命令格式说明
===================

定义
---------

- <CR>: 确认符  
- <LF>: 换行符  
- <..>: 参数名称  
- [..]: 可选参数  
-   : 空格符  

语法说明
--------------

前置字符：
   采用 "AT" 或 "at" 作为命令前置字符，模组仅识别该前缀为 AT 命令。

命令字段：
   - 标准命令：符合 3GPP 27007、27005 以及 ITU-T V.250 等规范  
   - 扩展命令：Neoway 自定义

连接符：
   采用 “+” 与 “$” 作为前置字符与命令字段的连接符

结束符：
   默认使用 <CR> (0x0D)

命令响应格式：
   <CR><LF>response<CR><LF>

命令结果格式：
   <CR><LF>OK<CR><LF> 或  
   <CR><LF>ERROR<CR><LF>

命令类型
--------------

.. csv-table::
   :header: "命令类型", "命令语法", "响应语法", "功能说明"
   :widths: 20, 25, 25, 30

   "设置命令", "AT+CMD=<VALUE><CR>", "OK 或 ERROR", "写入参数"
   "执行命令", "AT+CMD[=<VALUE>]<CR>", "response + OK", "执行内部动作"
   "测试命令", "AT+CMD=?<CR>", "response + OK", "返回可选参数列表"
   "查询命令", "AT+CMD?<CR>", "response + OK", "返回当前参数值"
   "主动上报", "<CR><LF>+CMD:<VALUE><CR><LF>", "N/A", "模组状态上报"

命令响应时间
-------------------

有方模组的每条命令在下发之后，模组内部需要一定得时间进行处理及响应，其响应时长取决于具体的 AT 命令。
模组内部参数设置或读写的命令在下发后，模组会立即作出响应，默认最大响应时间为 300ms。其他涉及 SIM/USIM 卡、网络交互、外设控制的命令，模组可能需要花费数秒到数十秒的时间才会作出响应，具体视 SIM/USIM 卡配置（例如，电话簿中存储的联系人数量，存储的短信数量）、模组所处的网
络环境（网络质量、拥堵情况等）或者外设类型而异。

{% if timeout_rows %}
{{ labels.timeout_desc if labels.timeout_desc else "
下表列出相关指令的响应时间，其它未在下表中列出的命令，最大响应时间约为 300ms。
" }}

.. list-table::
   :header-rows: 1
   :widths: 15 45 20
   :align: center

   * - {{ labels.timeout_no if labels.timeout_no else "No." }}
     - {{ labels.timeout_cmd if labels.timeout_cmd else "命令" }}
     - {{ labels.timeout_value if labels.timeout_value else "超时时间（单位：s）" }}

{% for row in timeout_rows %}
   * - {{ row.no }}
     - {{ row.cmd }}
     - {{ row.timeout }}
{% endfor %}
{% endif %}
