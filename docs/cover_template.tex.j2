% ===============================================
%   Neoway – Custom manual LaTeX Template
%   (Overrides Sphinx's default manual.tex.j2)
% ===============================================

\documentclass[oneside,openany]{manual}

% ------------------------
% Sphinx injected settings
% ------------------------
{%- if latex_engine %}
\usepackage{ifxetex}
\usepackage{ifluatex}
{%- endif %}

% Sphinx injects: fontpkg, preamble, maketitle, etc.
{{ latex_elements.preamble }}

% ------------------------
% Remove "Chapter x." prefix
% ------------------------
\usepackage{titlesec}
\titleformat{\chapter}{\Huge\bfseries}{第~\thechapter~章}{1em}{}

% ------------------------
% Fix chapter marks for header
% ------------------------
\renewcommand{\chaptermark}[1]{\markboth{#1}{}}

% ------------------------
% TOC pages use plain style (→ your plain style sets Right empty)
% ------------------------
\addtocontents{toc}{\protect\thispagestyle{plain}}

% ------------------------
% Document Start
% ------------------------
\begin{document}

% -------------
%   Cover Page
% -------------
{{ latex_elements.maketitle }}

% Roman numbering for abstracts, toc
\pagenumbering{roman}

% Table of Contents
\begingroup
\pagestyle{plain}   % 左 logo，右空白（按照你 plain 的定义）
\tableofcontents
\clearpage
\endgroup

% Switch to Arabic numbering for content
\pagenumbering{arabic}
\pagestyle{normal}

% ------------------------
% Main Content
% ------------------------
{% block body %}{% endblock body %}

\end{document}
